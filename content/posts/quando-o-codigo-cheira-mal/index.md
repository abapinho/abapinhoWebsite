---
title: 'Quando o código cheira mal'
slug: quando-o-codigo-cheira-mal
date: 2019-02-25 09:00:12
tags: [estilo]
categories: [artigos]
wordpressId: 4171
draft: false
resources:
- name: featuredImage
  src: 'images/thumbnail.jpg'
keyword: 'código mal cheiroso'
description: 'É frequente ao programar sentir um cheiro desagradável. Inicialmente não consigo identificá-lo. À medida que vou cheirando vou percebendo de onde vem.'
---
É frequente ao programar começar a sentir um cheiro desagradável. Normalmente não consigo logo identificar o que é. Sinto apenas uma leve mas incómoda fragrância. À medida que vou cheirando com mais propósito vou conseguindo perceber de onde vem. Mas mesmo nessa altura, muitas vezes ainda não me é perfeitamente claro porque é que aquele cheiro dali vem.

<!--more-->

Da minha experiência o processo tem 5 fases:

  1. Começo a sentir um mau cheiro mas não sei de onde vem;

  2. Identifico de onde vem o cheiro mas não sei porquê;

  3. Compreendo porque é que cheira mal mas não sei como fazer com que deixe de cheirar mal. E não quero disfarçar com perfume;

  4. Faz-se luz e compreendo o que tenho de mudar para parar o mau cheiro;

  5. Altero o código e o mau cheiro passa. E uma sensação de alívio percorre o meu corpo.

Na maior parte das vezes os maus cheiros são consequência de algo menos correcto no desenho. Daí que, geralmente, a solução obrigue a refactorizar o código para corrigir o desenho. Também me acontece com frequência que a solução para o mau cheiro surja por consequência de uma refacturação que revela finalmente o problema mal cheiroso.

Um bom programador não só deve ter um nariz apurado como a força de vontade para fazer o que for necessário para o seu código cheirar sempre bem. Um mau programador é aquele que diz "primeiro estranha-se, depois entranha-se". Já para não falar nos que, habituados a viver na pocilga, vivem rodeados de tantos maus cheiros que perderam a sensibilidade no olfato.

O conceito de "[code smell][1]" foi inventado por Kent Beck, um dos participantes no manifesto _Agile_ , criador do conceito de _Extreme Programming_ e um dos pais do _Test Driven Development_ , tudo abordagens com vista a minimizar potenciais maus cheiros no código.

Particularmente popular no mundo _Agile_ , esta metáfora é tão boa que devia ser adoptada em todos os meios. Principalmente nos mais mal cheirosos.

O Abapinho saúda-vos.

   [1]: https://en.wikipedia.org/wiki/Code_smell
