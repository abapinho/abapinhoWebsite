---
title: 'Lock data in Z-tables without a locking object'
slug: bloquear-dados-em-tabelas-z-sem-objecto-de-bloqueio
date: 2013-01-28 09:00:54
tags: [ddic]
categories: [dicas]
wordpressId: 2149
draft: false
resources:
- name: featuredImage
  src: 'images/thumbnail.jpg'
---
If I needed to create locking entries in a ZCOISO table I had created, up to two days ago I would have gone to SE11 to create a locking object for the ZCOISO table so that I could then use the function module generated by the locking object to lock the data.

But not anymore.

<!--more-->

Because now I know that function module ENQUEUE_E_TABLE exists.
This FM allows locking entries to be created for any table, whether a Z-table or not, without having to create a specific locking object for the table.


{{< highlight ABAP >}}
  data: l_tablename type tabname,
          l_varkey type vim_enqkey,
          lw_zcoiso type zcoiso.

  lw_zcoiso-kunnr = '12345'.
  l_varkey = lw_zcoiso.
  l_tabname = 'ZCOISO'.

  call function 'ENQUEUE_E_TABLE'
       exporting
            tabname = l_tabname
            varkey = l_varkey
       exceptions
            foreign_lock = 1
            system_failure = 2
            others = 3.
{{< /highlight >}}

Done. A locking entry is created for table ZCOISO, for the ‘12345’ table key.

Thanks to Michael Opoczynski for this tip.

Greetings from Abapinho.
